(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{157:function(e){e.exports=JSON.parse('{"ok":true,"members":[{"id":"W012A3CDE","real_name":"Egon Spengler","tz":"America/Los_Angeles","activity_periods":[{"start_time":"Feb 1 2020  1:33PM","end_time":"Feb 1 2020 1:54PM"},{"start_time":"Mar 1 2020  11:11AM","end_time":"Mar 1 2020 2:00PM"},{"start_time":"Mar 16 2020  5:33PM","end_time":"Mar 16 2020 8:02PM"}]},{"id":"W07QCRPA4","real_name":"Glinda Southgood","tz":"Asia/Kolkata","activity_periods":[{"start_time":"Feb 1 2020  1:33PM","end_time":"Feb 1 2020 1:54PM"},{"start_time":"Mar 1 2020  11:11AM","end_time":"Mar 1 2020 2:00PM"},{"start_time":"Mar 16 2020  5:33PM","end_time":"Mar 16 2020 8:02PM"}]}]}')},169:function(e,t,a){e.exports=a(305)},174:function(e,t,a){},177:function(e,t,a){},291:function(e,t,a){},300:function(e,t,a){},304:function(e,t,a){},305:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(11),c=a.n(r),l=a(156),s=a(29),o=a(309),m=(a(174),function(e){return i.a.createElement("div",{className:"client-page-header-wrapper"},i.a.createElement(o.a,{className:"client-bars-icon"}),i.a.createElement("span",{className:"client-page-header-title"},"Client List"))}),u=a(117),d=a(134),f=a(135),h=a(164),v=a(159),p=a(308),E=a(306),_=(a(177),function(e){return i.a.createElement("div",{style:{marginTop:"25px"}},e.loading&&e.dataSource.length<31?i.a.createElement(p.a,{loading:!0,active:!0}):i.a.createElement(E.a,Object.assign({},e,{dataSource:e.dataSource,columns:e.columns,pagination:!1,bordered:!0})))}),y=a(307),g=a(310),M=a(311),b=a(160),N=a(67),x=a.n(N);function w(e){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e]}function C(e){var t=e.split(" "),a=Object(b.a)(t,4),n=a[0],i=a[1],r=a[2],c=a[3];""===c&&(c=e.split("  ")[1]);var l=c.slice(-2);c=c.slice(0,-2);var s="am"===l.toLowerCase()?c.split(":")[0]:"".concat(parseInt(c.split(":")[0])+12);return x()().date(i).month(n).year(r).hour(s).minute(c.split(":")[1])}a(291);var k=function(e){var t=[{title:i.a.createElement("div",{className:"client-list-header"},"Start Time"),dataIndex:"start_time",key:"start_time",render:function(e,t){return i.a.createElement("div",{className:"client-start-time-column"},e||"")}},{title:i.a.createElement("div",{className:"client-list-header"},"End Time"),dataIndex:"end_time",key:"end_time",render:function(e,t){return i.a.createElement("div",{className:"client-end-time-column"},e||"")}},{title:i.a.createElement("div",{className:"client-list-header"},"Duration"),dataIndex:"duration",key:"duration",render:function(e,t){return i.a.createElement("div",{className:"client-duration-column"},t.start_time&&t.end_time?function(e,t){var a=C(e),n=C(t),i=n.diff(a,"hour");return 0===i?"".concat(n.diff(a,"minutes")," minutes"):"".concat(i," hours")}(t.start_time,t.end_time):"")}}];return i.a.createElement(y.a,Object.assign({},e,{title:i.a.createElement("div",{style:{display:"flex"}},i.a.createElement("div",{style:{width:"10%",padding:"10px 0px 0px 10px"}},i.a.createElement(g.a,{className:"timeline-icon"})),i.a.createElement("div",{style:{width:"80%"}},i.a.createElement("div",{className:"client-modal-title"},e.titleText),i.a.createElement("div",{className:"client-modal-sub-title"},e.subTitleText)),i.a.createElement("div",{style:{width:"10%"}},i.a.createElement(M.a,{className:"close-icon",onClick:function(){return e.onCancel()}}))),closable:!1,footer:null}),i.a.createElement(_,{width:600,dataSource:e.client.activity_periods||[],columns:t}))},A=(a(300),function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={clientList:[],showModal:!1,currentClient:{}},n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:3000/getClientActivityList",{method:"GET"}).then((function(t){e.setState({clientList:t.members.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{region:e.tz.split("/")[0].split("_").reduce((function(e,t){return e+" "+t})),area:e.tz.split("/")[1].split("_").reduce((function(e,t){return e+" "+t}))})}))})}))}},{key:"render",value:function(){var e=this,t=[{title:i.a.createElement("div",{className:"client-list-header"},"Name"),dataIndex:"real_name",width:"300px",key:"name",render:function(t,a){return i.a.createElement("div",{className:"client-name-column",onClick:function(){return e.setState({showModal:!0,currentClient:a})}},t)}},{title:i.a.createElement("div",{className:"client-list-header"},"Region"),dataIndex:"region",key:"region",render:function(e,t){return i.a.createElement("div",{className:"client-region-column"},e)}},{title:i.a.createElement("div",{className:"client-list-header"},"Area"),dataIndex:"area",key:"area",render:function(e,t){return i.a.createElement("div",{className:"client-area-column"},e)}},{title:i.a.createElement("div",{className:"client-list-header"},"Last Active"),dataIndex:"id",key:"last_active",render:function(e,t){return i.a.createElement("div",{className:"client-last-active-column"},function(e){var t=C(e),a=x()().months(),n=x()().year(),i=t.months(),r=t.year(),c=a===i,l=n===r;if(!l)return"on ".concat(t.date()," ").concat(w(i)," ").concat(r);if(l&&!c)return"on ".concat(t.date()," ").concat(w(i));if(l&&c){var s=x()().diff(t,"days");if(0===s){var o=x()().diff(t,"hour");if(0===o){var m=x()().diff(t,"minutes");return 0===m?" just now":" ".concat(m," ").concat(1===m?"minute":"minutes"," ago")}return" ".concat(o," ").concat(1===o?"hour":"hours"," ago")}return" ".concat(s," ").concat(1===s?"day":"days"," ago")}}(t.activity_periods[t.activity_periods.length-1].start_time))}}];return i.a.createElement("div",{className:"client-list-wrapper"},i.a.createElement(_,{dataSource:this.state.clientList,columns:t}),i.a.createElement(k,{titleText:this.state.currentClient.real_name,subTitleText:"from ".concat(this.state.currentClient.region,", ").concat(this.state.currentClient.area),visible:this.state.showModal,client:this.state.currentClient,onCancel:function(){return e.setState({showModal:!1})}}))}}]),a}(i.a.PureComponent)),P=function(e){return i.a.createElement("div",{style:{height:"100%"}},i.a.createElement(m,null),i.a.createElement(l.a,{basename:"/"},i.a.createElement(s.c,null,i.a.createElement(s.a,{exact:!0,path:"/",component:A}),i.a.createElement(s.a,{exact:!0,path:"*",component:A}))))},S=(a(304),a(157));!function(){var e=window.fetch;window.fetch=function(t,a){var n=a.method;return new Promise((function(i,r){!function(){switch(!0){case t.endsWith("/getClientActivityList")&&"GET"===n:return function(){return e=S,void i(e);var e}();default:e(t,a).then((function(e){return i(e)})).catch((function(e){return r(e)}))}}()}))}}(),c.a.render(i.a.createElement(P,null),document.getElementById("root"))}},[[169,1,2]]]);
//# sourceMappingURL=main.a68c87e1.chunk.js.map