(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{179:function(e,t,a){e.exports=a(330)},184:function(e,t,a){},187:function(e,t,a){},300:function(e,t,a){},325:function(e,t,a){},329:function(e,t,a){},330:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(11),r=a.n(c),l=a(167),s=a(29),o=a(334),u=(a(184),function(e){return i.a.createElement("div",{className:"client-page-header-wrapper"},i.a.createElement(o.a,{className:"client-bars-icon"}),i.a.createElement("span",{className:"client-page-header-title"},"Client List"))}),m=a(118),d=a(144),f=a(145),h=a(174),p=a(169),v=a(333),E=a(331),y=(a(187),function(e){return i.a.createElement("div",{style:{marginTop:"25px"}},e.loading&&e.dataSource.length<31?i.a.createElement(v.a,{loading:!0,active:!0}):i.a.createElement(E.a,Object.assign({},e,{dataSource:e.dataSource,columns:e.columns,pagination:!1,bordered:!0})))}),g=a(332),N=a(335),b=a(336),x=a(170),_=a(68),w=a.n(_);function C(e){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e]}function k(e){var t=e.split(" "),a=Object(x.a)(t,4),n=a[0],i=a[1],c=a[2],r=a[3];""===r&&(r=e.split("  ")[1]);var l=r.slice(-2);r=r.slice(0,-2);var s="am"===l.toLowerCase()?r.split(":")[0]:"".concat(parseInt(r.split(":")[0])+12);return w()().date(i).month(n).year(c).hour(s).minute(r.split(":")[1])}a(300);var j=function(e){var t=[{title:i.a.createElement("div",{className:"client-list-header"},"Start Time"),dataIndex:"start_time",key:"start_time",render:function(e,t){return i.a.createElement("div",{className:"client-start-time-column"},e||"")}},{title:i.a.createElement("div",{className:"client-list-header"},"End Time"),dataIndex:"end_time",key:"end_time",render:function(e,t){return i.a.createElement("div",{className:"client-end-time-column"},e||"")}},{title:i.a.createElement("div",{className:"client-list-header"},"Duration"),dataIndex:"duration",key:"duration",render:function(e,t){return i.a.createElement("div",{className:"client-duration-column"},t.start_time&&t.end_time?function(e,t){var a=k(e),n=k(t),i=n.diff(a,"hour");return 0===i?"".concat(n.diff(a,"minutes")," minutes"):"".concat(i," hours")}(t.start_time,t.end_time):"")}}];return i.a.createElement(g.a,Object.assign({},e,{title:i.a.createElement("div",{style:{display:"flex"}},i.a.createElement("div",{style:{width:"10%",padding:"10px 0px 0px 10px"}},i.a.createElement(N.a,{className:"timeline-icon"})),i.a.createElement("div",{style:{width:"80%"}},i.a.createElement("div",{className:"client-modal-title"},e.titleText),i.a.createElement("div",{className:"client-modal-sub-title"},e.subTitleText)),i.a.createElement("div",{style:{width:"10%"}},i.a.createElement(b.a,{className:"close-icon",onClick:function(){return e.onCancel()}}))),closable:!1,footer:null}),i.a.createElement(y,{width:600,dataSource:e.client.activity_periods||[],columns:t}))},O=a(166),S=a.n(O).a.create({baseURL:"http://localhost:9000/",headers:{"Content-Type":"application/json"}}),T=(a(325),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={clientList:[],showModal:!1,currentClient:{}},n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this;S.get("/api/clients",{}).then((function(t){e.setState({clientList:t.data.members.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{region:e.tz.split("/")[0].split("_").reduce((function(e,t){return e+" "+t})),area:e.tz.split("/")[1].split("_").reduce((function(e,t){return e+" "+t}))})}))})}))}},{key:"render",value:function(){var e=this,t=[{title:i.a.createElement("div",{className:"client-list-header"},"Name"),dataIndex:"real_name",width:"300px",key:"name",render:function(t,a){return i.a.createElement("div",{className:"client-name-column",onClick:function(){return e.setState({showModal:!0,currentClient:a})}},t)}},{title:i.a.createElement("div",{className:"client-list-header"},"Region"),dataIndex:"region",key:"region",render:function(e,t){return i.a.createElement("div",{className:"client-region-column"},e)}},{title:i.a.createElement("div",{className:"client-list-header"},"Area"),dataIndex:"area",key:"area",render:function(e,t){return i.a.createElement("div",{className:"client-area-column"},e)}},{title:i.a.createElement("div",{className:"client-list-header"},"Last Active"),dataIndex:"id",key:"last_active",render:function(e,t){return i.a.createElement("div",{className:"client-last-active-column"},function(e){var t=k(e),a=w()().months(),n=w()().year(),i=t.months(),c=t.year(),r=a===i,l=n===c;if(!l)return"on ".concat(t.date()," ").concat(C(i)," ").concat(c);if(l&&!r)return"on ".concat(t.date()," ").concat(C(i));if(l&&r){var s=w()().diff(t,"days");if(0===s){var o=w()().diff(t,"hour");if(0===o){var u=w()().diff(t,"minutes");return 0===u?" just now":" ".concat(u," ").concat(1===u?"minute":"minutes"," ago")}return" ".concat(o," ").concat(1===o?"hour":"hours"," ago")}return" ".concat(s," ").concat(1===s?"day":"days"," ago")}}(t.activity_periods[t.activity_periods.length-1].start_time))}}];return i.a.createElement("div",{className:"client-list-wrapper"},i.a.createElement(y,{dataSource:this.state.clientList,columns:t}),i.a.createElement(j,{titleText:this.state.currentClient.real_name,subTitleText:"from ".concat(this.state.currentClient.region,", ").concat(this.state.currentClient.area),visible:this.state.showModal,client:this.state.currentClient,onCancel:function(){return e.setState({showModal:!1})}}))}}]),a}(i.a.PureComponent)),I=function(e){return i.a.createElement("div",{style:{height:"100%"}},i.a.createElement(u,null),i.a.createElement(l.a,{basename:"/"},i.a.createElement(s.c,null,i.a.createElement(s.a,{exact:!0,path:"/",component:T}),i.a.createElement(s.a,{exact:!0,path:"*",component:T}))))};a(329);r.a.render(i.a.createElement(I,null),document.getElementById("root"))}},[[179,1,2]]]);
//# sourceMappingURL=main.ef89e043.chunk.js.map